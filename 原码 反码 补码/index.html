<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>原码反码补码的理解 - 日拱一卒,功不唐捐</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="转载文章原码反码补码，觉得写的非常的好 
一. 机器数和真值
机器数
 一个数在计算机中的二进制表示形式,  叫做这个数的机器数。机器数是带符号的，在计算机用一个数的最高位存放符号, 正数为0, 负数为1.
 比如，十进制中的数 +3 ，计算机字长为8位，转换成二进制就是0000那么，这里的 00000011 和 10000011 。就是机器数。0011。如果是 -3 ，就是 10000011">
<meta property="og:type" content="article">
<meta property="og:title" content="原码反码补码的理解">
<meta property="og:url" content="http://yangsui.me/原码 反码 补码/index.html">
<meta property="og:site_name" content="日拱一卒,功不唐捐">
<meta property="og:description" content="转载文章原码反码补码，觉得写的非常的好 
一. 机器数和真值
机器数
 一个数在计算机中的二进制表示形式,  叫做这个数的机器数。机器数是带符号的，在计算机用一个数的最高位存放符号, 正数为0, 负数为1.
 比如，十进制中的数 +3 ，计算机字长为8位，转换成二进制就是0000那么，这里的 00000011 和 10000011 。就是机器数。0011。如果是 -3 ，就是 10000011">
<meta property="og:updated_time" content="2016-04-30T09:18:34.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="原码反码补码的理解">
<meta name="twitter:description" content="转载文章原码反码补码，觉得写的非常的好 
一. 机器数和真值
机器数
 一个数在计算机中的二进制表示形式,  叫做这个数的机器数。机器数是带符号的，在计算机用一个数的最高位存放符号, 正数为0, 负数为1.
 比如，十进制中的数 +3 ，计算机字长为8位，转换成二进制就是0000那么，这里的 00000011 和 10000011 。就是机器数。0011。如果是 -3 ，就是 10000011">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="/webfonts/ptserif/main.css" rel='stylesheet' type='text/css'>
  <link href="/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <a id="main-nav-toggle" class="nav-icon" href="javascript:;"></a>
      <a id="logo" class="logo" href="/"></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/">主页</a>
        
          <a class="main-nav-link" href="/archives">文档</a>
        
          <a class="main-nav-link" href="/categories">分类</a>
        
          <a class="main-nav-link" href="/tags">标签</a>
        
          <a class="main-nav-link" href="/about">联系我</a>
        
      </nav>
      <!--

      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yangsui.me"></form>
        </div>

      </nav>
    -->

    </div>
  </div>
</header>

    <section id="main" class="outer"><article id="post-原码 反码 补码" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      原码反码补码的理解
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/原码 反码 补码/" class="article-date">
  <time datetime="2013-03-01T12:12:35.000Z" itemprop="datePublished">2013-03-01</time>
</a>
      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <!-- toc -->
<p>转载文章<a href="http://www.cnblogs.com/zhangziqiu/archive/2011/03/30/computercode.html" title="Title" target="_blank" rel="external">原码反码补码</a>，觉得写的非常的好 </p>
<h1 id="一-机器数和真值"><a href="#一-机器数和真值" class="headerlink" title="一. 机器数和真值"></a>一. 机器数和真值</h1><ol>
<li><p>机器数</p>
<p> 一个数在计算机中的二进制表示形式,  叫做这个数的机器数。机器数是带符号的，在计算机用一个数的最高位存放符号, 正数为0, 负数为1.</p>
<p> 比如，十进制中的数 +3 ，计算机字长为8位，转换成二进制就是0000那么，这里的 00000011 和 10000011 。就是机器数。0011。如果是 -3 ，就是 10000011 。</p>
</li>
</ol>
<a id="more"></a>
<ol>
<li><p>真值</p>
<p> 因为第一位是符号位，所以机器数的形式值就不等于真正的数值。</p>
<p> 例如上面的有符号数 10000011，其最高位1代表负，其真正数值是 -3 而不是形式值131（10000011转换成十进制等于131）。</p>
<p> 所以，为区别起见，将带符号位的机器数对应的真正数值称为机器数的真值。</p>
<p> 例：<code>0000 0001的真值 = +000 0001 = +1，1000 0001的真值 = –000 0001 = –1</code></p>
</li>
</ol>
<h1 id="二-原码-反码-补码的基础概念和计算方法"><a href="#二-原码-反码-补码的基础概念和计算方法" class="headerlink" title="二. 原码, 反码, 补码的基础概念和计算方法"></a>二. 原码, 反码, 补码的基础概念和计算方法</h1><ol>
<li><p>原码</p>
<p> 原码就是符号位加上真值的绝对值, 即用第一位表示符号, 其余位表示值. 比如如果是8位二进制:</p>
<pre><code>[+1]原 = 0000 0001

[-1]原 = 1000 0001
</code></pre><p> 第一位是符号位. 因为第一位是符号位, 所以8位二进制数的取值范围就是:</p>
<pre><code>[1111 1111 , 0111 1111]
</code></pre><p> 也就是</p>
<pre><code>[-127 , 127]
</code></pre><p> 原码是人脑最容易理解和计算的表示方式.</p>
</li>
<li><p>反码</p>
<p> 反码的表示方法:</p>
<p> <code>正数的反码是其本身; 负数的反码是在其原码的基础上, 符号位不变, 其余各个位取反.</code></p>
<pre><code>[+1] = [00000001]原 = [00000001]反

[-1] = [10000001]原 = [11111110]反
</code></pre></li>
</ol>
<pre><code>可见如果一个反码表示的是负数, 人脑无法直观的看出来它的数值. 通常要将其转换成原码再计算.
</code></pre><ol>
<li><p>补码</p>
<p> 补码的表示方法是:</p>
<p> <code>正数的补码就是其本身; 负数的补码是在其原码的基础上, 符号位不变, 其余各位取反, 最后+1. (即在反码的基础上+1)</code></p>
<pre><code>[+1] = [00000001]原 = [00000001]反 = [00000001]补

[-1] = [10000001]原 = [11111110]反 = [11111111]补
</code></pre><p> 对于负数, 补码表示方式也是人脑无法直观看出其数值的. 通常也需要转换成原码在计算其数值.    </p>
</li>
</ol>
<h1 id="三-为何要使用原码-反码和补码"><a href="#三-为何要使用原码-反码和补码" class="headerlink" title="三. 为何要使用原码, 反码和补码"></a>三. 为何要使用原码, 反码和补码</h1><p>现在我们知道了计算机可以有三种编码方式表示一个数. 对于正数因为三种编码方式的结果都相同.</p>
<pre><code>[+1] = [00000001]原 = [00000001]反 = [00000001]补

[-1] = [10000001]原 = [11111110]反 = [11111111]补
</code></pre><p>对于正数，三码都是一样。对于负数，是不同的。那么为什么有反码和补码呢?</p>
<p>首先, 因为人脑可以知道第一位是符号位, 在计算的时候我们会根据符号位, 选择对真值区域的加减. (真值的概念在本文最开头). 但是对于计算机, 加减乘数已经是最基础的运算, 要设计的尽量简单. 计算机辨别”符号位”显然会让计算机的基础电路设计变得十分复杂! </p>
<p>于是人们想出了将符号位也参与运算的方法. 我们知道, 根据运算法则减去一个正数等于加上一个负数, 即: 1-1 = 1 + (-1) = 0 , 所以机器可以只有加法而没有减法, 这样计算机运算的设计就更简单了.</p>
<p>于是人们开始探索 将符号位参与运算, 并且只保留加法的方法. 如:计算十进制的表达式: 1-1=0</p>
<pre><code>1 - 1 = 1 + (-1) = [00000001]原 + [10000001]原 = [10000010]原 = -2
</code></pre><p>如果用原码表示, 让符号位也参与计算, 显然对于减法来说, 结果是不正确的.这也就是为何计算机内部不使用原码表示一个数.</p>
<p>为了解决原码做减法的问题, 出现了反码:</p>
<p>计算十进制的表达式: 1-1=0</p>
<pre><code>1 - 1 = 1 + (-1) = [0000 0001]原 + [1000 0001]原= [0000 0001]反 + [1111 1110]反 = [1111 1111]反 = [1000 0000]原 = -0
</code></pre><p>发现用反码计算减法, 结果的真值部分是正确的. 而唯一的问题其实就出现在”0”这个特殊的数值上. 虽然人们理解上+0和-0是一样的, 但是0带符号是没有任何意义的. 而且会有[0000 0000]原和[1000 0000]原两个编码表示0.</p>
<p>于是补码的出现, 解决了0的符号以及两个编码的问题:</p>
<pre><code>1-1 = 1 + (-1) = [0000 0001]原 + [1000 0001]原 = [0000 0001]补 + [1111 1111]补 = [0000 0000]补=[0000 0000]原
</code></pre><p>这样0用[0000 0000]表示, 而以前出现问题的-0则不存在了.而且可以用[1000 0000]表示-128:</p>
<pre><code>(-1) + (-127) = [1000 0001]原 + [1111 1111]原 = [1111 1111]补 + [1000 0001]补 = [1000 0000]补
</code></pre><p>-1-127的结果应该是-128, 在用补码运算的结果中, [1000 0000]补 就是-128. 但是注意因为实际上是使用以前的-0的补码来表示-128, 所以-128并没有原码和反码表示.(对-128的补码表示[1000 0000]补算出来的原码是[0000 0000]原, 这是不正确的)</p>
<p><strong>在补码中我们用<code>-128</code>来表示<code>-0</code>,且<code>-128</code>没有对应的原码和反码。</strong></p>
<p>使用补码, 不仅仅修复了0的符号以及存在两个编码的问题, 而且还能够多表示一个最低数. 这就是为什么8位二进制, 使用原码或反码表示的范围为[-127, +127], 而使用补码表示的范围为[-128, 127].</p>
<p>因为机器使用补码, 所以对于编程中常用到的32位int类型, 可以表示范围是: [-231, 231-1] 因为第一位表示的是符号位.而使用补码表示时又可以多保存一个最小值.    </p>
<h4 id="所以补码的设计目的是"><a href="#所以补码的设计目的是" class="headerlink" title="所以补码的设计目的是:"></a>所以补码的设计目的是:</h4><h4 id="1-使符号位能与有效值部分一起参加运算-从而简化运算规则"><a href="#1-使符号位能与有效值部分一起参加运算-从而简化运算规则" class="headerlink" title="1.使符号位能与有效值部分一起参加运算,从而简化运算规则."></a>1.使符号位能与有效值部分一起参加运算,从而简化运算规则.</h4><h4 id="2-使减法运算转换为加法运算-进一步简化计算机中运算器的线路设计"><a href="#2-使减法运算转换为加法运算-进一步简化计算机中运算器的线路设计" class="headerlink" title="2.使减法运算转换为加法运算,进一步简化计算机中运算器的线路设计"></a>2.使减法运算转换为加法运算,进一步简化计算机中运算器的线路设计</h4><p>所有这些转换都是在计算机的最底层进行的，而在我们使用的汇编、C等其他高级语言中使用的都是<br>原码。</p>
<h1 id="四-原码-反码-补码-再深入"><a href="#四-原码-反码-补码-再深入" class="headerlink" title="四.原码, 反码, 补码 再深入"></a>四.原码, 反码, 补码 再深入</h1><p>计算机巧妙地把符号位参与运算, 并且将减法变成了加法, 背后蕴含了怎样的数学原理呢?</p>
<p>将钟表想象成是一个1位的12进制数. 如果当前时间是6点, 我希望将时间设置成4点, 需要怎么做呢?我们可以:</p>

      
    </div>
    
      <div class="article-toc">
        <h3>Contents</h3>
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#一-机器数和真值"><span class="toc-number">1.</span> <span class="toc-text">一. 机器数和真值</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二-原码-反码-补码的基础概念和计算方法"><span class="toc-number">2.</span> <span class="toc-text">二. 原码, 反码, 补码的基础概念和计算方法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#三-为何要使用原码-反码和补码"><span class="toc-number">3.</span> <span class="toc-text">三. 为何要使用原码, 反码和补码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#所以补码的设计目的是"><span class="toc-number">3.0.0.1.</span> <span class="toc-text">所以补码的设计目的是:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-使符号位能与有效值部分一起参加运算-从而简化运算规则"><span class="toc-number">3.0.0.2.</span> <span class="toc-text">1.使符号位能与有效值部分一起参加运算,从而简化运算规则.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-使减法运算转换为加法运算-进一步简化计算机中运算器的线路设计"><span class="toc-number">3.0.0.3.</span> <span class="toc-text">2.使减法运算转换为加法运算,进一步简化计算机中运算器的线路设计</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#四-原码-反码-补码-再深入"><span class="toc-number">4.</span> <span class="toc-text">四.原码, 反码, 补码 再深入</span></a></li></ol>
      </div>
    
    
      <footer class="article-footer">
        
      </footer>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/redis持久化/" id="article-nav-newer" class="article-nav-link-wrap">
      <div class="article-nav-title"><span>&lt;</span>&nbsp;
        
          redis持久化
        
      </div>
    </a>
  
  
</nav>

  
</article>








<section id="comments">
  <!-- 多说评论框 start -->
  <div class="ds-thread" data-thread-key="post-原码 反码 补码" data-title="原码反码补码的理解" data-url="http://yangsui.me/原码 反码 补码/"></div>
  <!-- 多说评论框 end -->
  <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
  <script type="text/javascript">
  var duoshuoQuery = {short_name:'yangsuime'};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
       || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
    </script>
  <!-- 多说公共JS代码 end -->
</section>

</section>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 yangsui&nbsp;
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
  </div>
</footer>
    

<script src="/js/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
  </div>
</body>
</html>